function u(){return new Promise(e=>{setTimeout(()=>e(),0)})}async function o(e){const t=e.items;let r=[],n=[];for(let i=0;i<t.length;i++)n.push(t[i].webkitGetAsEntry());for(;n.length>0;){let i=n.shift();i.isFile?r.push(i):i.isDirectory&&n.push(...await a(i.createReader()))}return r}async function a(e){let t=[],r=await s(e);for(;r.length>0;)t.push(...r),r=await s(e);return t}async function s(e){try{return await new Promise((t,r)=>{e.readEntries(t,r)})}catch(t){console.log(t)}}async function l(e,t){return new Promise(r=>{let n=new FileReader;n.addEventListener("loadend",i=>{r(i.target.result)}),t?n.readAsText(e):n.readAsArrayBuffer(e)})}async function c(e,t){return new Promise(r=>e.file(async n=>r(await l(n,t))))}export{u as a,c as b,o as g,l as r};
